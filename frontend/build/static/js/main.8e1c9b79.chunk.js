(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,r,t){"use strict";t.r(r);var s=t(0),a=t(15),c=t.n(a),n=t(24),o=t(30),d=t(57),l=t(58);const u="CHECK_TOKEN_VALID_REQUEST",i="CHECK_TOKEN_VALID_SUCCESS",E="CHECK_TOKEN_VALID_FAIL",S="CARD_CREATE_RESET",_="USER_LOGIN_REQUEST",R="USER_LOGIN_SUCCESS",g="USER_LOGIN_FAIL",T="USER_LOGOUT",p="USER_REGISTER_REQUEST",h="USER_REGISTER_SUCCESS",C="USER_REGISTER_FAIL",D="USER_DETAILS_REQUEST",A="USER_DETAILS_SUCCESS",j="USER_DETAILS_FAIL",U="UPDATE_USER_DETAILS_REQUEST",O="UPDATE_USER_DETAILS_SUCCESS",L="UPDATE_USER_DETAILS_FAIL",b="DELETE_USER_ACCOUNT_REQUEST",v="DELETE_USER_ACCOUNT_SUCCESS",y="DELETE_USER_ACCOUNT_FAIL",I="GET_USER_ALL_ADDRESSES_REQUEST",f="GET_USER_ALL_ADDRESSES_SUCCESS",x="GET_USER_ALL_ADDRESSES_FAIL",m="GET_SINGLE_ADDRESS_REQUEST",P="GET_SINGLE_ADDRESS_SUCCESS",w="GET_SINGLE_ADDRESS_FAIL",N="CREATE_USER_ADDRESS_REQUEST",G="CREATE_USER_ADDRESS_SUCCESS",F="CREATE_USER_ADDRESS_FAIL",Q="UPDATE_USER_ADDRESS_REQUEST",k="UPDATE_USER_ADDRESS_SUCCESS",V="UPDATE_USER_ADDRESS_FAIL",H="DELETE_USER_ADDRESS_REQUEST",K="DELETE_USER_ADDRESS_SUCCESS",J="DELETE_USER_ADDRESS_FAIL",Y="GET_ALL_ORDERS_REQUEST",B="GET_ALL_ORDERS_SUCCESS",z="GET_ALL_ORDERS_FAIL",M=Object(o.combineReducers)({productsListReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"PRODUCTS_LIST_REQUEST":return{...e,loading:!0,products:[],error:""};case"PRODUCTS_LIST_SUCCESS":return{...e,loading:!1,products:r.payload,error:""};case"PRODUCTS_LIST_FAIL":return{...e,loading:!1,error:r.payload};default:return e}},productDetailsReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"PRODUCT_DETAILS_REQUEST":return{...e,loading:!0,product:{},error:""};case"PRODUCT_DETAILS_SUCCESS":return{...e,loading:!1,product:r.payload,error:""};case"PRODUCT_DETAILS_FAIL":return{...e,loading:!1,error:r.payload};default:return e}},createProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"CREATE_PRODUCT_REQUEST":return{...e,loading:!0,product:{},success:!1,error:""};case"CREATE_PRODUCT_SUCCESS":return{...e,loading:!1,success:!0,product:r.payload,error:""};case"CREATE_PRODUCT_FAIL":return{...e,loading:!1,success:!1,product:{},error:r.payload};case"CREATE_PRODUCT_RESET":return{...e,loading:!1,success:!1,product:{},error:""};default:return e}},updateProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"UPDATE_PRODUCT_REQUEST":return{...e,loading:!0,product:{},success:!1,error:""};case"UPDATE_PRODUCT_SUCCESS":return{...e,loading:!1,success:!0,product:r.payload,error:""};case"UPDATE_PRODUCT_FAIL":return{...e,loading:!1,success:!1,product:{},error:r.payload};case"UPDATE_PRODUCT_RESET":return{...e,loading:!1,success:!1,product:{},error:""};default:return e}},deleteProductReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"DELETE_PRODUCT_REQUEST":return{...e,loading:!0,success:!1,error:""};case"DELETE_PRODUCT_SUCCESS":return{...e,loading:!1,success:!0,error:""};case"DELETE_PRODUCT_FAIL":return{...e,loading:!1,success:!1,error:r.payload};case"DELETE_PRODUCT_RESET":return{...e,loading:!1,success:!1,error:""};default:return e}},createCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"CARD_CREATE_REQUEST":return{...e,loading:!0,cardData:{},success:!1,error:""};case"CARD_CREATE_SUCCESS":return{...e,loading:!1,success:!0,cardData:r.payload,error:""};case"CARD_CREATE_FAIL":return{...e,loading:!1,cardData:{},success:!1,error:r.payload};case S:return{...e,loading:!1,success:!1,cardData:{},error:""};default:return e}},chargeCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"CHARGE_CARD_REQUEST":return{...e,loading:!0,success:!1,error:""};case"CHARGE_CARD_SUCCESS":return{...e,loading:!1,success:!0,error:""};case"CHARGE_CARD_FAIL":return{...e,loading:!1,success:!1,error:r.payload};case"CHARGE_CARD_RESET":return{...e,loading:!1,success:!1,error:""};default:return e}},savedCardsListReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stripeCards:[]},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SAVED_CARDS_LIST_REQUEST":return{...e,loading:!0,success:!1,error:""};case"SAVED_CARDS_LIST_SUCCESS":return{...e,loading:!1,success:!0,stripeCards:r.payload,error:""};case"SAVED_CARDS_LIST_FAIL":return{...e,loading:!1,success:!1,error:r.payload};default:return e}},updateStripeCardtReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"UPDATE_STRIPE_CARD_REQUEST":return{loading:!0,success:!1,stripeCard:{},error:""};case"UPDATE_STRIPE_CARD_SUCCESS":return{loading:!1,success:!0,stripeCard:r.payload,error:""};case"UPDATE_STRIPE_CARD_FAIL":return{loading:!1,success:!1,stripeCard:{},error:r.payload};case"UPDATE_STRIPE_CARD_RESET":return{loading:!1,success:!1,stripeCard:{},error:""};default:return e}},deleteSavedCardReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"DELETE_SAVED_CARD_REQUEST":return{...e,loading:!0,error:""};case"DELETE_SAVED_CARD_SUCCESS":return{...e,loading:!1,success:!0,data:r.payload,error:""};case"DELETE_SAVED_CARD_FAIL":return{...e,loading:!1,error:r.payload};default:return e}},userLoginReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case _:return{...e,loading:!0};case R:return{...e,loading:!1,userInfo:r.payload};case g:return{loading:!1,error:r.payload};case T:return{};default:return e}},userRegisterReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case p:return{...e,loading:!0};case h:return{...e,loading:!1,userInfo:r.payload};case C:return{loading:!1,error:r.payload};case T:return{};default:return e}},getSingleAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case m:return{...e,loading:!0,address:{},success:!1,error:""};case P:return{...e,loading:!1,address:r.payload,success:!0,error:""};case w:return{...e,loading:!1,address:{},success:!1,error:r.payload};case"GET_SINGLE_ADDRESS_RESET":return{...e,loading:!1,address:{},success:!1,error:""};default:return e}},getAllAddressesOfUserReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case I:return{...e,loading:!0,addresses:[],success:!1,error:""};case f:return{...e,loading:!1,addresses:r.payload,success:!0,error:""};case x:return{...e,loading:!1,addresses:[],success:!1,error:r.payload};default:return e}},createUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case N:return{...e,loading:!0,address:{},success:!1,error:""};case G:return{...e,loading:!1,address:r.payload,success:!0,error:""};case F:return{...e,loading:!1,success:!1,address:{},error:r.payload};case"CREATE_USER_ADDRESS_RESET":return{...e,loading:!1,success:!1,address:{},error:""};default:return e}},updateUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Q:return{...e,loading:!0,success:!1,error:""};case k:return{...e,loading:!1,success:!0,error:""};case V:return{...e,loading:!1,success:!1,error:r.payload};case"UPDATE_USER_ADDRESS_RESET":return{...e,loading:!1,success:!1,error:""};default:return e}},deleteUserAddressReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case H:return{...e,loading:!0,success:!1,error:""};case K:return{...e,loading:!1,success:!0,error:""};case J:return{...e,loading:!1,success:!1,error:r.payload};case"DELETE_USER_ADDRESS_RESET":return{...e,loading:!1,success:!1,error:""};default:return e}},getAllOrdersReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Y:return{...e,loading:!0,orders:[],error:""};case B:return{...e,loading:!1,orders:r.payload,error:""};case z:return{...e,loading:!1,orders:[],error:r.payload};default:return e}},changeDeliveryStatusReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"CHANGE_DELIVERY_STATUS_REQUEST":return{...e,loading:!0,success:!1,error:""};case"CHANGE_DELIVERY_STATUS_SUCCESS":return{...e,loading:!1,success:!0,error:""};case"CHANGE_DELIVERY_STATUS_FAIL":return{...e,loading:!1,success:!1,error:r.payload};case"CHANGE_DELIVERY_STATUS_RESET":return{...e,loading:!1,success:!1,error:""};default:return e}},checkTokenValidationReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case u:return{...e,loading:!0,valid:!1,error:""};case i:return{...e,loading:!1,valid:!0,error:""};case E:return{...e,loading:!1,valid:!1,error:r.payload};case"CHECK_TOKEN_VALID_RESET":return{...e,loading:!1,valid:!1,error:""};default:return e}},userDetailsReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case D:return{...e,loading:!0,user:{},error:""};case A:return{...e,loading:!1,user:r.payload,error:""};case j:return{...e,loading:!1,user:{},error:r.payload};default:return e}},userDetailsUpdateReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case U:return{...e,loading:!0,user:{},success:!1,error:""};case O:return{...e,loading:!1,success:!0,user:r.payload,error:""};case L:return{...e,loading:!1,success:!1,user:{},error:r.payload};case"UPDATE_USER_DETAILS_RESET":return{...e,loading:!1,success:!1,user:{},error:""};default:return e}},deleteUserAccountReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case b:return{...e,loading:!0,success:!1,error:""};case v:return{...e,loading:!1,success:!0,error:""};case y:return{...e,loading:!1,success:!1,error:r.payload};case"DELETE_USER_ACCOUNT_RESET":return{...e,loading:!1,success:!1,error:""};default:return e}}});var W=M;const q=[l.a];let X={userLoginReducer:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}};var Z=Object(o.createStore)(W,X,Object(d.composeWithDevTools)(Object(o.applyMiddleware)(...q))),$=t(22),ee=t(7),re=t(107),te=t(103),se=t(108),ae=t(105),ce=t(21),ne=t(14),oe=t.n(ne);var de=t(4);var le=function(){let e=Object(ee.k)();const[r,t]=Object(s.useState)("");return Object(de.jsx)("div",{children:Object(de.jsx)("form",{onSubmit:t=>{t.preventDefault(),r&&e.push("/?searchTerm=".concat(r))},children:Object(de.jsxs)("span",{style:{display:"flex"},className:"",children:[Object(de.jsx)("input",{type:"text",value:r,placeholder:"search products",className:"form-control",onChange:e=>t(e.target.value)}),Object(de.jsx)("button",{type:"submit",className:"btn btn-primary ml-2 button-focus-css",children:Object(de.jsx)("i",{className:"fas fa-search"})})]})})})};var ue=function(){let e=Object(ee.k)();const r=Object(n.b)(),t=Object(n.c)((e=>e.userLoginReducer)),{userInfo:s}=t;return Object(de.jsx)("header",{children:Object(de.jsx)(re.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(de.jsxs)(te.a,{children:[Object(de.jsx)(ce.LinkContainer,{to:"/",children:Object(de.jsx)(re.a.Brand,{children:Object(de.jsx)("i",{className:"mb-2 fas fa-home",children:" Home"})})}),Object(de.jsx)(re.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(de.jsxs)(re.a.Collapse,{id:"basic-navbar-nav",children:[Object(de.jsxs)(se.a,{className:"mr-auto",children:[Object(de.jsx)(ce.LinkContainer,{to:"/",children:Object(de.jsx)(se.a.Link,{children:"All Products"})}),s&&s.admin?Object(de.jsx)(ce.LinkContainer,{to:"/new-product/",children:Object(de.jsx)(se.a.Link,{children:"Add Product"})}):"",Object(de.jsx)("span",{className:"",children:Object(de.jsx)(le,{})})]}),s?Object(de.jsx)("div",{children:Object(de.jsxs)(ae.a,{className:"navbar-nav text-capitalize",title:s.username,id:"username",children:[Object(de.jsx)(ce.LinkContainer,{to:"/account",children:Object(de.jsx)(ae.a.Item,{children:"Account Settings"})}),Object(de.jsx)(ce.LinkContainer,{to:"/all-addresses/",children:Object(de.jsx)(ae.a.Item,{children:"Address Settings"})}),Object(de.jsx)(ce.LinkContainer,{to:"/stripe-card-details/",children:Object(de.jsx)(ae.a.Item,{children:"Card Settings"})}),Object(de.jsx)(ce.LinkContainer,{to:"/all-orders/",children:Object(de.jsx)(ae.a.Item,{children:"All Orders"})}),Object(de.jsx)(ae.a.Item,{onClick:()=>{r((e=>{localStorage.removeItem("userInfo"),e({type:T}),e({type:S})})),e.push("/login"),window.location.reload()},children:"Logout"})]})}):Object(de.jsx)(ce.LinkContainer,{to:"/login",children:Object(de.jsxs)(se.a.Link,{children:[Object(de.jsx)("i",{className:"fas fa-user"})," Login"]})})]})]})})})},ie=t(104),Ee=t(62),Se=t(106),_e=t(61),Re=t(109);var ge=function(e){let{variant:r,children:t}=e;return Object(de.jsx)(Re.a,{variant:r,children:t})};var Te=function(e){let{history:r}=e;const[t,a]=Object(s.useState)(""),[c,o]=Object(s.useState)(""),d=Object(n.b)(),l=Object(n.c)((e=>e.userLoginReducer)),{error:u,userInfo:i}=l;return Object(s.useEffect)((()=>{i&&r.push("/")}),[r,i]),Object(de.jsx)("div",{children:Object(de.jsx)(ie.a,{className:"justify-content-md-center",children:Object(de.jsxs)(Ee.a,{xs:12,md:6,children:[Object(de.jsx)("h1",{children:"Sign In"}),u&&Object(de.jsx)(ge,{variant:"danger",children:u}),Object(de.jsxs)(Se.a,{onSubmit:e=>{e.preventDefault(),d(((e,r)=>async t=>{try{t({type:_});const s={headers:{"Content-type":"application/json"}},{data:a}=await oe.a.post("/account/login/",{username:e,password:r},s);t({type:R,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a))}catch(u){t({type:g,payload:u.response&&u.response.data.detail?u.response.data.detail:u.message})}})(t,c))},children:[Object(de.jsxs)(Se.a.Group,{controlId:"username",children:[Object(de.jsx)(Se.a.Label,{children:"Username"}),Object(de.jsx)(Se.a.Control,{type:"text",placeholder:"enter username",value:t,onChange:e=>a(e.target.value)})]}),Object(de.jsxs)(Se.a.Group,{controlId:"password",children:[Object(de.jsx)(Se.a.Label,{children:"Password"}),Object(de.jsx)(Se.a.Control,{type:"password",placeholder:"enter your password",value:c,onChange:e=>o(e.target.value)})]}),Object(de.jsx)(_e.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(de.jsx)(ie.a,{className:"py-3",children:Object(de.jsxs)(Ee.a,{children:["Do not have an account?",Object(de.jsx)($.Link,{to:"/register",children:" Register"})]})})]})})})};var pe=()=>Object(de.jsx)("div",{children:Object(de.jsxs)($.BrowserRouter,{children:[Object(de.jsx)(ue,{}),Object(de.jsx)("div",{className:"container mt-4",children:Object(de.jsx)(ee.g,{children:Object(de.jsx)(ee.d,{path:"/login",component:Te,exact:!0})})})]})});t(99);c.a.render(Object(de.jsx)(n.a,{store:Z,children:Object(de.jsx)(pe,{})}),document.getElementById("root"))},99:function(e,r,t){}},[[100,1,2]]]);
//# sourceMappingURL=main.8e1c9b79.chunk.js.map